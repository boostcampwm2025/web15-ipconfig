#!/bin/sh

# rebase ë˜ëŠ” amend í›„ package.json ë³€ê²½ ê°ì§€

# $1ì€ rebaseì¸ì§€ amendì¸ì§€ êµ¬ë¶„
case "$1" in
  rebase)
    changed_files=$(git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD)
    if echo "$changed_files" | grep -qE "package(-lock)?\.json"; then
      echo "ğŸ“¦ package.json ë³€ê²½ ê°ì§€! npm install ì‹¤í–‰ ì¤‘..."
      npm install
    fi
    ;;
esac
